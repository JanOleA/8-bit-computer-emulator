;! name: FIBONACCI
;! entry: start
;! deps: display_number, newline
;! abi: all
;! bss: auto
;! align: 4

; .bss + 0: x
; .bss + 1: y

start:
  LDI 1
  STA .bss
  LDI 0
  STA .bss + 1
  PHA
  JSR @display_number
  JSR @newline
add:
  LDA .bss
  ADD .bss + 1
  PHA
  STA .bss
  JSR @display_number
  JSR @newline
  CPI 30
  JPC done
  ADD .bss + 1
  PHA
  STA .bss + 1
  JSR @display_number
  JSR @newline
  CPI 30
  JPC done
  JMP add

done:
  RET