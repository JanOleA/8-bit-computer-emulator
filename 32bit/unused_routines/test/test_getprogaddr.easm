;! name: TGETPROG
;! entry: main
;! deps: get_program_address, display_number, newline
;! abi: all
;! bss: none
;! align: 1
;! callable: yes

main:
  ; require at least 1 argument
  LDA .__argv_base
  CPI 1
  JPZ test_go
  RET

test_go:
  ; first arg -> string to compare
  LDA .__argv_base + 1
  STA .__arg1
  JSR @get_program_address
  LDA .__res1
  JSR @display_number
  JSR @newline
  RET